image:
  file: .gitpod/Dockerfile

tasks:
  - name: Setup workspace
    command: |
      sudo apt update; sudo apt upgrade -y
      sudo add-apt-repository ppa:flatpak/stable -y
      sudo apt update; sudo apt upgrade -y
      sudo apt install flatpak flatpak-builder python3-pip -y
      sudo pip3 install -U meson ninja
      sudo flatpak remote-add --if-not-exists gnome-nightly https://nightly.gnome.org/gnome-nightly.flatpakrepo

vscode:
  extensions:
    - prince781.vala
    - asabil.meson
    - bilelmoussaoui.flatpak-vscode